# Ближайшие бары

Скрипт __bars.py__ используя слепок данных [data.mos.ru](//data.mos.ru) расчитывает
- Самый большой бар
- Самый маленький бар
- Самый близкий бар (текущие gps-координаты пользователь введет с клавиатуры).

Например, если ввести коодинаты _55.740575_, _37.616892_ найдет заведение "_red code bar_"

# Как использовать скрипт

При запуске скрипта
- В слепке данных ищутся бары с минимальным/максимальным количеством мест, и названия соответсвующих баров и количество мест в них, выводятся в консоль.
- У пользователя запрашивается долгота/широта, и по этим данным в слепке ищется бар, ближайший к этим координатам, пользователю возвращается название бара и координаты

# Как запустить
 
Для работы программы JSON файл необходим, требуется скачать его [здесь](https://devman.org/fshare/1503831681/4/).

Если вы хотите загрузить последнюю версию данных, воспользуйтесь инструкцией:
1. Зарегистрироваться на сайте [data.mos.ru](//data.mos.ru)
2. Получить ключ api в личном кабинете
3. Скачать файл через rest api, по ссылке https://apidata.mos.ru/v1/features/1796?api_key={api_key}. 
4. Назвать его __bars.json__ и положить его в директорию с скриптом _bars.py_

По умолчанию скрипт ищет в директории файл __bars.json__, однако можно указать файл в ручную с помощью параметра _--file_ или _-f_

```

$ python3 ./bars.py --f custom.json
using bars file: custom.json

```

Скрипт требует для своей работы установленного __Python 3.5__

Запуск на Linux:

```bash

$ python3 bars.py -f ./data.json
please input your coordinates to get nearest bar name
enter longitude:
45
enter latitude:
43
smallest bar: - bar name: Сушистор, seats count: 0, coordinates: (55.837926047147974, 37.53750797872186)
biggest bar: - bar name: Спорт бар «Красная машина», seats count: 450, coordinates: (55.70111462924677, 37.638228500803905)
closest bar: - bar name: Бар Виват, seats count: 35, coordinates: (55.44875028, 37.511275)

```

Запуск на Windows происходит аналогично.



# Цели проекта

Код создан в учебных целях. В рамках учебного курса по веб-разработке - [DEVMAN.org](https://devman.org)
